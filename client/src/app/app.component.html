<div class="container-fluid">
  <div class="row">
    <div [ngClass]="response ? 'top-center-search' : 'center-search'">
      <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" [(ngModel)]="params.name" name="search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit" (click)="search()">Search</button>
      </form>
    </div>
  </div>
  <div class="row">
    <div *ngIf="loading" class="full-width load-bar">
      <div class="progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
      </div>
    </div>
  </div>
  <div *ngIf="response && response.total_count" class="row top-center-search">
    <div class="top-center-search">
      Total Results: {{response.total_count}}
    </div>
  </div>
  <div class="row">
    <div *ngIf="response && !loading" class="full-width">
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Github Profile</th>
            <th scope="col">Additional Details</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let user of response.items; let i = index">
            <th scope="row">{{i + 1 + pageStartCount}}</th>
            <td>{{user.login}}</td>
            <td><a href="{{user.html_url}}" target="_blank">{{user.html_url}}</a></td>
            <td><button class="btn" (click)="viewDetails(i)">View More</button></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row" *ngIf="response && !loading">
    <ul class="pagination pagination-lg justify-content-center top-center-search">
      <li class="page-item" *ngIf="params.page > 1">
        <a class="page-link" (click)="changePage(params.page - 1)">{{params.page - 1}}</a>
      </li>
      <li class="page-item active">
        <a class="page-link">{{params.page}}</a>
      </li>
      <li class="page-item"  *ngIf="response.items.length > 29">
        <a class="page-link"(click)="changePage(params.page + 1)">{{params.page + 1}}</a>
      </li>
    </ul>
  </div>
  <div class="row" *ngIf="response && !loading">
    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Page Size: {{params.pageSize}}
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <a *ngFor="let option of pageSizeOptions" class="dropdown-item" href="#" (click)="changePageSize(option)">{{option}}</a>
      </div>
    </div>
  </div>
</div>


